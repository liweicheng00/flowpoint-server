(function(t){function e(e){for(var i,r,a=e[0],l=e[1],c=e[2],u=0,f=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={app:0},s=[];function r(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"15af9669"}[t]+".js"}function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=o[t]=[e,i]}));e.push(n[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=r(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=o[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,n[1](c)}o[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/templates/dist/",a.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08d0":function(t,e,n){"use strict";var i=n("3947"),o=n.n(i);o.a},"0c25":function(t,e,n){},"14b6":function(t,e,n){t.exports=n.p+"img/flowchart.5007418a.png"},"27a5":function(t,e,n){},3947:function(t,e,n){},4127:function(t,e,n){"use strict";var i=n("27a5"),o=n.n(i);o.a},4137:function(t,e,n){},4275:function(t,e,n){},"452c":function(t,e,n){},4684:function(t,e,n){"use strict";var i=n("ced0"),o=n.n(i);o.a},"48fe":function(t,e,n){},"53cb":function(t,e,n){"use strict";var i=n("9489"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("b-navbar",{attrs:{toggleable:"sm",type:"light",variant:"warning"}},[i("b-navbar-brand",{attrs:{href:"#",tag:"h1"}},[i("img",{staticClass:"icon-size",attrs:{src:n("14b6"),alt:"FlowPoint"}}),t._v(" FlowPoint ")]),i("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),i("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[i("b-navbar-nav",[i("b-nav-item",{attrs:{href:"#",to:"/"}},[t._v(" Flow ")]),i("b-nav-item",{attrs:{href:"#",to:"EditStyle"}},[t._v("Edit Module ")]),i("b-nav-item",{attrs:{href:"#",to:"EditStyle"}},[t._v("About")])],1),i("b-navbar-nav",{staticClass:"ml-auto"},[i("b-nav-item",[t.signed?i("div",[t._v("Wellcome "+t._s(t.basicProfile.Ad)+"!")]):i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"login",expression:"'login'"}],attrs:{size:"sm"}},[t._v(" Login ")])],1),i("b-nav-item",[t.signed?i("b-button",{attrs:{size:"sm"},on:{click:t.signOut}},[t._v("LogOut")]):t._e()],1)],1)],1)],1),i("b-modal",{ref:"login",attrs:{id:"login",title:"Login","hide-footer":""}},[i("div",{staticClass:"login-content"},[i("GoogleLogin",{attrs:{params:t.params,renderParams:t.renderParams,onSuccess:t.onSuccess,onCurrentUser:t.onCurrentUser}},[t._v("Login")])],1)]),i("div",{staticClass:"view"},[i("router-view")],1),t._m(0)],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Icons made by "),n("a",{attrs:{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"}},[t._v("Freepik")]),t._v(" from "),n("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[t._v("www.flaticon.com")])])}],r=n("5530"),a=n("2f62"),l=(n("99af"),n("d81d"),n("b0c0"),n("bc3a")),c=n.n(l),u=function(){return{styles:[],userInfo:{info:{},filesInfo:[]}}},d={getDefaultStyles:function(t){return t.styles},getUserId:function(t){return t.userInfo.info.userId}},f={userLogin:function(t,e){var n=t.commit,i=e.login_type,o=e.id_token;c.a.post("api/login",{token:o,login_type:i}).then((function(t){n("setUserInfo",{userInfo:t.data})})).catch((function(t){console.log(t)}))},userLogout:function(t){var e=t.commit;e("clearUserInfo")},getUserFile:function(t,e){var n=t.commit,i=t.getters;console.log("dispatch getUserFile: File id: ".concat(e,", User id: ").concat(i.getUserId)),c.a.post("api/file",{file_id:[e],user_id:i.getUserId}).then((function(t){n("editor/clearAllData",null,{root:!0}),n("editor/setAllData",t.data.data.data,{root:!0}),n("editor/setFileId",t.data.data["_id"]["$oid"],{root:!0}),n("editor/setFileName",t.data.data.file_name,{root:!0}),n("addStyles",t.data.styles)})).catch((function(t){console.log(t)}))},saveFile:function(t){var e=t.commit,n=t.state,i=t.rootState,o=i.editor.fileName?i.editor.fileName:null,s=i.editor.fileId?i.editor.fileId:null,r={};r.data=i.editor.alldata.parseJson(),r.file_id=s,r.file_name=o,r.user_id=n.userInfo.info.userId||null,r.styles=[],console.log("dispatch user/saveFile: fileName:",o,"fileId:",s,"data:",r),s||o?s?c.a.put("api/file",r).then((function(t){console.log("saveFile complete",t),e("editor/setSaveTime",null,{root:!0})})).catch((function(t){console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)})):c.a.put("api/file",r).then((function(t){console.log("saveFile complete",t),e("editor/setFileId",t.data.file_info.file_id,{root:!0}),e("editor/setSaveTime",null,{root:!0}),e("addFilesInfo",t.data.file_info)})).catch((function(t){console.log(t)})):console.log("saveFile: Nothing to save!")},getBlockStyles:function(t){var e=t.commit;c.a.get("api/styles",{timeout:3e3}).then((function(t){e("addStyles",t.data)})).catch((function(t){console.log(t)})).then((function(){var t=[{_id:{$oid:"5fa8abe8468520300fb2eeac"},name:"default_p1",content:"<div><p>put something graceful</p></div>",style:{div:{"background-color":"beige","border-radius":"5px",padding:"5%","justify-content":"flex-start"},p:{"font-size":"2em","text-align":"left"}}},{_id:{$oid:"5fa8abe8468520300fb2eead"},name:"default_p2",content:"<div><p>put something meaningful</p></div>",style:{div:{padding:"5%","justify-content":"flex-start"},p:{"font-size":"1em","text-align":"left"}}}];e("addStyles",t)}))}},p={addStyles:function(t,e){e.map((function(t){var e="";for(var n in t.style){for(var i in e+=".".concat(t.name," ").concat(n," {"),t.style[n])e+="".concat(i,": ").concat(t.style[n][i],";");e+="} "}t.style=e})),t.styles=t.styles.concat(e)},setUserInfo:function(t,e){var n=e.userInfo;t.userInfo.info={userId:n.user_id,userName:n.username},t.userInfo.filesInfo=n.files_name},addFilesInfo:function(t,e){t.userInfo.filesInfo.unshift(e)},clearUserInfo:function(t){t.userInfo.info={},t.userInfo.filesInfo=[]}},h={namespaced:!0,state:u,getters:d,actions:f,mutations:p},m=(n("4de4"),n("4160"),n("caad"),n("13d5"),n("a434"),n("159b"),n("c975"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("d4ec")),v=n("bee2"),g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=t%e;return n>e/2?t+(e-n):t-n},b=g,w=n("2ef0"),y=n.n(w),k={},x=function(){function t(e,n,i){var o=n.event,s=void 0===o?null:o,r=n.parent,a=void 0===r?null:r,l=n.arrowStartMiddle,c=void 0===l?null:l;Object(m["a"])(this,t),i?(this._parseElement(i),k[this.id]=this,this.mainPage&&(k.mainPage=this),this.elementMap=k,this._createCircular()):(this.type=e,this.event=s,this.mainPage=!1,this.parent=a,this.id=this._uuid()),"block"==e?(this.arrows={start:[],end:[]},this.content="",this.props={mouseclickposition:[b(s?s.offsetX:null),b(s?s.offsetY:null)],styleObject:{},textObject:{}},this.childs=[]):"arrow"==e&&(this.props={endSection:3,startSection:1,points:{x1:0,y1:0,x2:0,y2:0},arrowStartMiddle:c,arrowEndMiddle:null},c.arrows.start.push(this),this.childs=[])}return Object(v["a"])(t,[{key:"_setNodePosition",value:function(t,e,n){switch(n){case 1:return t[0]-e[0]<0?t[1]-e[1]>=0?4:2:1;case 2:return t[1]-e[1]>=0?t[0]-e[0]>=0?1:3:2;case 3:return t[0]-e[0]>=0?t[1]-e[1]>=0?4:2:3;case 4:return t[1]-e[1]<0?t[0]-e[0]>=0?1:3:4}}},{key:"calculateArrowPoints",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if("arrow"==this.type){if(this.props.arrowEndMiddle=e||this.props.arrowEndMiddle,t&&(this.props.points.x2=n.a*t.offsetX+n.c*t.offsetY+n.e,this.props.points.y2=n.b*t.offsetX+n.d*t.offsetY+n.f),this.props.arrowEndMiddle)switch(this.props.points.x2=this.props.arrowEndMiddle.props.styleObject.x,this.props.points.y2=this.props.arrowEndMiddle.props.styleObject.y,this.props.endSection=this._setNodePosition([this.props.points.x1,this.props.points.y1],[this.props.points.x2,this.props.points.y2],this.props.endSection),this.props.endSection){case 1:this.props.points.x2=parseInt(this.props.arrowEndMiddle.props.styleObject.x)+parseInt(this.props.arrowEndMiddle.props.styleObject.width),this.props.points.y2=parseInt(this.props.arrowEndMiddle.props.styleObject.y)+parseInt(this.props.arrowEndMiddle.props.styleObject.height)/2;break;case 2:this.props.points.x2=parseInt(this.props.arrowEndMiddle.props.styleObject.x)+parseInt(this.props.arrowEndMiddle.props.styleObject.width)/2,this.props.points.y2=this.props.arrowEndMiddle.props.styleObject.y;break;case 3:this.props.points.x2=this.props.arrowEndMiddle.props.styleObject.x,this.props.points.y2=parseInt(this.props.arrowEndMiddle.props.styleObject.y)+parseInt(this.props.arrowEndMiddle.props.styleObject.height)/2;break;case 4:this.props.points.x2=parseInt(this.props.arrowEndMiddle.props.styleObject.x)+parseInt(this.props.arrowEndMiddle.props.styleObject.width)/2,this.props.points.y2=parseInt(this.props.arrowEndMiddle.props.styleObject.y)+parseInt(this.props.arrowEndMiddle.props.styleObject.height);break}if(this.props.startSection=this._setNodePosition([this.props.points.x2,this.props.points.y2],[this.props.points.x1,this.props.points.y1],this.props.startSection),this.props.arrowStartMiddle)switch(this.props.startSection){case 1:this.props.points.x1=parseInt(this.props.arrowStartMiddle.props.styleObject.x)+parseInt(this.props.arrowStartMiddle.props.styleObject.width),this.props.points.y1=parseInt(this.props.arrowStartMiddle.props.styleObject.y)+parseInt(this.props.arrowStartMiddle.props.styleObject.height)/2;break;case 2:this.props.points.x1=parseInt(this.props.arrowStartMiddle.props.styleObject.x)+parseInt(this.props.arrowStartMiddle.props.styleObject.width)/2,this.props.points.y1=parseInt(this.props.arrowStartMiddle.props.styleObject.y);break;case 3:this.props.points.x1=parseInt(this.props.arrowStartMiddle.props.styleObject.x),this.props.points.y1=parseInt(this.props.arrowStartMiddle.props.styleObject.y)+parseInt(this.props.arrowStartMiddle.props.styleObject.height)/2;break;case 4:this.props.points.x1=parseInt(this.props.arrowStartMiddle.props.styleObject.x)+parseInt(this.props.arrowStartMiddle.props.styleObject.width)/2,this.props.points.y1=parseInt(this.props.arrowStartMiddle.props.styleObject.y)+parseInt(this.props.arrowStartMiddle.props.styleObject.height);break}}else console.error("Can't use this method on this type of element.")}},{key:"_uuid",value:function(){var t=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}},{key:"parseJson",value:function(){return this._avoidCircular(this)}},{key:"_avoidCircular",value:function(t){var e=this;return y.a.transform(t,(function(t,n,i){"parent"!=i&&"elementMap"!=i&&(-1==["arrowEndMiddle","arrowStartMiddle"].indexOf(i)?-1==["start","end"].indexOf(i)?"childs"!=i?y.a.isArray(n)?t[i]=n.map((function(t){return e._avoidCircular(t)})):t[i]=y.a.isObject(n)?e._avoidCircular(n):n:t[i]=n.map((function(t){return e._avoidCircular(t)})):t[i]=n.map((function(t){if(t)return t.id})):t[i]=n?n.id:null)}),{})}},{key:"_parseElement",value:function(e){e.childs=e.childs.map((function(e){return new t(null,{},e)})),Object.assign(this,e)}},{key:"_createCircular",value:function(){var t=this;this.childs.forEach((function(e){e.parent=t,"block"==e.type&&(e.arrows.start=e.arrows.start.map((function(t){return k[t]})),e.arrows.end=e.arrows.end.map((function(t){return k[t]}))),"arrow"==e.type&&(e.props.arrowStartMiddle=e.props.arrowStartMiddle?k[e.props.arrowStartMiddle]:null,e.props.arrowEndMiddle=e.props.arrowEndMiddle?k[e.props.arrowEndMiddle]:null)}))}}]),t}(),E=x,O=function(){return{fileName:null,fileId:null,saveTime:null,svg:null,ctm:null,ictm:null,initViewbox:[0,0],FocusingElementId:null,alldata:new E("block",{}),self:{},arrowObject:null,NumOfChilds:[0],coor:[]}},_={},S={},M={emptyState:function(t){var e={svg:null,ctm:null,ictm:null,initViewbox:[0,0],FocusingElementId:null,alldata:{id:"1",type:"block",props:{},childs:[],mainPage:!0,parent:null,arrows:{start:[],end:[]},content:""},self:{},arrowObject:null,NumOfChilds:[0],coor:[]};for(var n in t)t.key=e[n];console.log(t)},getSVG:function(t,e){t.svg=e},clearSVG:function(t){t.svg=null},setCTM:function(t){t.ctm=t.svg.svg.getCTM(),t.ictm=t.ctm.inverse()},setBeginData:function(t,e){e&&(t.alldata=e),t.self=t.alldata,t.self.mainPage=!0},changeSelf:function(t,e){t.self.mainPage=!1,t.self=e,t.self.mainPage=!0},gobackSelf:function(t){t.self.mainPage=!1,t.self=t.self.parent,t.self.mainPage=!0},addElement:function(t,e){var n=e.type,i=e.params,o=new E(n,i);t.self.childs.push(o),"arrow"==n&&(t.arrowObject=o)},setArrowPosition:function(t,e){var n=e.event,i=e.arrowEndMiddle;t.arrowObject.calculateArrowPoints(n,i,t.ictm)},stopLink:function(t,e){t.arrowObject.props.arrowEndMiddle=e,t.arrowObject&&e.arrows.end.push(t.arrowObject),t.arrowObject=null},cancelLink:function(t){console.log("cacel link"),t.arrowObject=null,t.self.childs.pop()},changeFocusingElement:function(t,e){t.FocusingElementId=e},addChildNum:function(t,e){var n=e.parentCoor.reduce((function(t,e){return t[e]}),t.coor);n[e.pkey]||n.push([]),t.NumOfChilds[e.l]?t.NumOfChilds[e.l]+=1:t.NumOfChilds.push(1)},reduceChildNum:function(t,e){t.NumOfChilds[e]-=1,t.NumOfChilds[e]||t.NumOfChilds.splice(e,e)},setBlockPosition:function(t,e){var n=e.dragData,i=e.position;n.arrows.start.forEach((function(t){t.calculateArrowPoints()})),n.arrows.end.forEach((function(t){t.calculateArrowPoints()})),n.props.styleObject.x="".concat(b(i.x)),n.props.styleObject.y="".concat(b(i.y))},deleteMiddle:function(t,e){var n=[];n.push(e.id),"block"==e.type&&(e.arrows.start.forEach((function(t){n.push(t.id)})),e.arrows.end.forEach((function(t){n.push(t.id)}))),console.log(n);var i=t.self.childs.filter((function(t){if(!n.includes(t.id))return t}));t.self.childs=i},editContent:function(t,e){var n=e.data,i=e.content;n.content=i},resetBlockHeight:function(t,e){var n=e.data,i=e.ref;n.props.styleObject.height=i.clientHeight},clearInitPosition:function(t,e){var n=e.data,i=e.style;n.props.mouseclickposition=null,n.props.styleObject=i},setFileId:function(t,e){t.fileId=e},clearFileId:function(t){t.fileId=null,console.log("clearFileId")},setFileName:function(t,e){t.fileName=e,console.log("setFileName",t.fileName)},clearFileName:function(t){t.fileName=null,console.log("clearFileName")},setAllData:function(t,e){console.log("set all data",e),t.alldata=new E(null,{},e),t.self=t.alldata.elementMap.mainPage?t.alldata.elementMap.mainPage:t.alldata,console.log("parsed all data",t.self)},clearAllData:function(t){t.alldata=new E("block",{}),t.self=t.alldata,t.self.mainPage=!0,console.log("create new file")},setSaveTime:function(t){t.saveTime=new Date,console.log("setSaveTime",t.saveTime)}},j={namespaced:!0,state:O,getters:_,actions:S,mutations:M};i["default"].use(a["a"]);var $=new a["a"].Store({modules:{user:h,editor:j},strict:"debug",actions:{}}),I=n("a7fe"),P=n.n(I),C=n("e571"),B=n("5f5b"),T=n("b1e0"),F=(n("f9e3"),n("2dd8"),n("d06d"),n("0874"));i["default"].use(P.a,c.a);var L="422430406019-4knnkh10lgpftp3a7hhi3cd17ljdnat2.apps.googleusercontent.com";i["default"].use(C["LoaderPlugin"],{client_id:L}),i["default"].use(B["a"]),i["default"].use(T["a"]),i["default"].component("v-icon",F["a"]),i["default"].prototype.$bus=new i["default"];var D={name:"app",components:{GoogleLogin:C["GoogleLogin"]},data:function(){return{signed:!1,basicProfile:null,params:{},renderParams:{width:250,height:50,longtitle:!0}}},store:$,created:function(){},mounted:function(){},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])("user",["userLogin","userLogout"])),{},{onSuccess:function(t){console.log(t);var e=t.getAuthResponse().id_token;this.$refs["login"].hide(),this.basicProfile=t.getBasicProfile(),this.signed=t.isSignedIn(),this.userLogin({login_type:"google",userInfo:this.basicProfile,id_token:e})},signOut:function(){var t=this;i["default"].GoogleAuth.then((function(e){e.signOut().then((function(){t.signed=e.isSignedIn.get(),t.userLogout()}))}))},onCurrentUser:function(t){this.basicProfile=t.getBasicProfile(),this.signed=t.isSignedIn(),this.$refs["login"].hide();var e=t.getAuthResponse().id_token;console.log("onCurrentUser"),this.userLogin({login_type:"google",userInfo:this.basicProfile,id_token:e})}})},N=D,A=(n("4127"),n("b0a0"),n("2877")),H=Object(A["a"])(N,o,s,!1,null,null,null),z=H.exports,U=n("8c4f"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",{attrs:{fluid:""}},[n("b-form-row",[n("b-col",{attrs:{cols:"1"}},[n("FileTree")],1),n("b-col",{attrs:{cols:"8"}},[n("Tool"),n("Main")],1),n("b-col",[n("All"),n("Preview"),n("Style"),n("TextEditor")],1)],1)],1)],1)},V=[],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("svg",{ref:"svg",staticClass:"Svg",attrs:{id:"block",version:"2",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",width:t.props.clientWidth,height:t.props.clientHeight,viewBox:t.viewBox,preserveAspectRatio:"xMidYMid slice"},on:{contextmenu:function(t){t.preventDefault()},click:t.clickEvent,dblclick:function(e){return e.target!==e.currentTarget?null:t.dblclickEvent(e)},mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.leftmousedownEvent(e)},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.leftmouseupEvent(e)},mousemove:t.mousemoveEvent,mouseleave:t.mouseleaveEvent,wheel:t.wheelEvent}},[n("g",t._l(t.childs,(function(e,i){return n("Middle",{key:i,attrs:{data:e,parent:t.self},on:{dblclick:t.middleDblClickEvent,"mousedown-right":t.middleMouseDownEvent,"mouseup-right":t.middleMouseUpEvent,"mouseup-left":t.middleMouseUpEventL,"mousedown-left":t.middleMouseDownEventL,mouseenter:t.middleMouseEnterEvent,mouseleave:t.middleMouseLeaveEvent}})})),1)]),n("p",[t._v("Save time:"+t._s(t.saveTime))])])},Y=[],R=(n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{ref:"g",class:t.classList,on:{mousedown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.mousedownleft(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.mousedownright(e)}],mouseup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.mouseupleft(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.mouseupright(e)}],dblclick:t.dblclick,mouseenter:t.mouseenter,mouseleave:t.mouseleave,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteKey(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterKey(e)}],focus:t.onFocus}},["block"==t.data.type?n("Block",{attrs:{data:t.data,parent:t.parent}}):"arrow"==t.data.type?n("Arrow",{attrs:{data:t.data}}):t._e()],1)}),X=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("defs",[n("marker",{attrs:{id:"arrow",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto"}},[n("path",{attrs:{d:"M0,0 L0,6 L9,3 z",fill:"#f00"}})])]),n("path",{attrs:{d:t.d,stroke:"#000","stroke-width":"1","marker-end":"url(#arrow)"}})])},J=[],K={props:{data:Object},data:function(){return{startSection:1,endSection:3}},computed:{d:function(){var t="".concat(this.data.props.points.x1,",").concat(this.data.props.points.y1),e="".concat(this.data.props.points.x2,",").concat(this.data.props.points.y2);return"M".concat(t," L").concat(e)}}},Q=K,Z=Object(A["a"])(Q,q,J,!1,null,"ff1fa9c2",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[n("rect",t._b({staticClass:"block",attrs:{id:t.data.id}},"rect",t.data.props.styleObject,!1)),n("foreignObject",{attrs:{x:t.styleObject.x,y:t.styleObject.y,width:t.data.props.styleObject.width,height:t.data.props.styleObject.height,"pointer-events":"none"}},[n("body",{attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[n("div",{ref:"content",staticClass:"fo",class:[t.fo_content]},[n("div",{domProps:{innerHTML:t._s(t.data.content)}})])])])],1)},nt=[],it={props:{data:Object,parent:Object},data:function(){return{ifFocus:!1,allowMove:!1,styleDefault:{width:"100",height:"30",stroke:"black",rx:"3",fill:"transparent","stroke-width":"1",x:"0",y:"0"},textDefault:{},fo_content:""}},created:function(){var t=this;this.$bus.$on("TextEditor:change",(function(e,n){t.ifFocus&&t.data.id==n&&t.$store.commit("editor/editContent",{data:t.data,content:e})})),this.$bus.$on("Style:change",(function(e){t.ifFocus&&(t.fo_content=e.name)}))},updated:function(){""!=this.data.content&&this.$store.commit("editor/resetBlockHeight",{data:this.data,ref:this.$refs.content})},watch:{focusingElementId:function(t){t==this.data.id?this.ifFocus=!0:this.ifFocus=!1}},computed:{styleObject:function(){if(this.data.props.mouseclickposition){this.$store.commit("editor/setCTM");var t=this.$store.state.editor.ictm,e=this.data.props.mouseclickposition[0]-parseInt(this.styleDefault.width)/t.a/2,n=this.data.props.mouseclickposition[1]-parseInt(this.styleDefault.height)/t.a/2,i=t.a*e+t.c*n+t.e,o=t.b*e+t.d*n+t.f,s=Object.assign(this.styleDefault,{color:"red",x:"".concat(i),y:"".concat(o)});return this.$store.commit("editor/clearInitPosition",{data:this.data,style:s}),s}return this.data.props.styleObject},textObject:function(){return Object.assign(this.textDefault,{})},focusingElementId:function(){return this.$store.state.editor.FocusingElementId}},mounted:function(){},methods:{resizeBody:function(){console.log("here")},gridAttach:function(t,e){var n=t%e;return n>e/2?t+(e-n):t-n}},beforeDestroy:function(){this.$bus.$off("TextEditor:change")}},ot=it,st=(n("c51e"),Object(A["a"])(ot,et,nt,!1,null,"14491e0c",null)),rt=st.exports,at={components:{Arrow:tt,Block:rt},props:{data:Object,parent:Object},mounted:function(){"block"==this.data.type&&this.$refs.g.focus()},created:function(){},computed:{classList:function(){var t={Middle:!0};return t[this.data.type]=!0,t}},methods:{mousedownright:function(t){this.$emit("mousedown-right",t,this.data)},mouseupright:function(t){this.$emit("mouseup-right",t,this.data)},mouseupleft:function(t){this.$emit("mouseup-left",t,this.data)},mousedownleft:function(t){this.$emit("mousedown-left",t,this.data)},mouseenter:function(t){this.$emit("mouseenter",t,this.data)},mouseleave:function(t){this.$emit("mouseleave",t,this.data)},dblclick:function(t){this.$emit("dblclick",t,this.data)},deleteKey:function(t){console.log(t),console.log(this.data),this.$store.commit("editor/deleteMiddle",this.data)},enterKey:function(){this.$bus.$emit("Block:enter",this.data.content,this.data.id)},onFocus:function(){this.$store.commit("editor/changeFocusingElement",this.data.id),this.$bus.$emit("Block:focus",this.data.content,this.data.id)}},beforeDestroy:function(){}},lt=at,ct=(n("53cb"),Object(A["a"])(lt,R,X,!1,null,"6359171c",null)),ut=ct.exports,dt=(n("2532"),n("3ca3"),n("ddb0"),n("2b3d"),function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.fileName,o=n.classArray,s=void 0===o?["default_p1"]:o,r=n.styles;Object(m["a"])(this,t),this.svgEl=e,this.fileName=i,this.classArray=s,this.styles=r}return Object(v["a"])(t,[{key:"save",value:function(){var t=this.getClass();this.svgEl.setAttribute("xmlns","http://www.w3.org/2000/svg");var e=document.createElement("style");this.svgEl.prepend(e);var n="body {\n            margin: 0px;\n        }\n        .fo {\n            padding: 5px;\n          }\n        .fo * {\n            margin: 0px;\n            padding: 0px;\n          }";e.appendChild(document.createTextNode(n)),e.styleSheet?console.log("This is required for IE8 and below."):t.map((function(t){e.appendChild(document.createTextNode(t.style))}));var i=this.svgEl.outerHTML,o='<?xml version="1.0" standalone="no"?>\r\n',s=new Blob([o,i],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=this.fileName,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"getClass",value:function(){var t=this,e=this.styles.filter((function(e){return t.classArray.includes(e.name)}));return e}}]),t}()),ft=dt,pt={components:{Middle:ut},props:{},data:function(){return{done:[],undone:[],newMutation:!0,canZoom:!1,canPen:!1,canDrag:!1,linkStatus:!1,props:{clientHeight:null,clientWidth:null,viewBox:{"min-x":0,"min-y":0,width:null,height:null,startPoint:[0,0]}},arrowEndMiddle:null,arrowStartMiddle:null,mutationModule:[]}},computed:Object(r["a"])(Object(r["a"])({viewBox:{get:function(){return"".concat(this.props.viewBox["min-x"]," ").concat(this.props.viewBox["min-y"]," ").concat(this.props.viewBox.width," ").concat(this.props.viewBox.height)},set:function(t){this.props.viewBox["min-x"]=t[0],this.props.viewBox["min-y"]=t[1],this.props.viewBox["width"]=t[2],this.props.viewBox["height"]=t[3]}}},Object(a["d"])("editor",{self:function(t){return t.self},fileName:function(t){return t.fileName},fileId:function(t){return t.fileId},saveTime:function(t){return t.saveTime}})),{},{childs:function(){return this.self.childs},parent:function(){return this.self.parent}}),created:function(){var t=this;this.initViewbox(),this.$bus.$on("global:new file",(function(){t.callSaveFile(),t.clearFileName(),t.clearFileId(),t.clearAllData()})),this.$bus.$on("tool:back",(function(){t.backtoolclickEvent()})),this.$bus.$on("tool:download",(function(){t.savetoolclickEvent(t.$refs.svg)})),this.$bus.$on("tool:save",(function(){t.callSaveFile()})),this.$bus.$on("tool:undo",(function(){t.undo()})),this.$bus.$on("tool:redo",(function(){t.redo()})),window.addEventListener("resize",(function(){t.windowresizeEvent()})),this.$store.subscribe((function(e){var n=["editor/".concat(t.EMPTY_STATE),"editor/setArrowPosition","editor/setBlockPosition"];-1===n.indexOf(e.type)&&-1!=e.type.indexOf("editor")&&t.done.push(e),t.newMutation&&(t.undone=[])}))},mounted:function(){this.windowresizeEvent(),this.setBeginData(),this.getSVG(this.$refs),this.setCTM()},updated:function(){},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(a["c"])("editor",["emptyState","getSVG","clearSVG","setCTM","setBeginData","changeSelf","gobackSelf","addElement","setArrowPosition","stopLink","cancelLink","changeFocusingElement","addChildNum","reduceChildNum","setBlockPosition","deleteMiddle","editContent","resetBlockHeight","clearInitPosition"])),Object(a["b"])("user",["saveFile"])),Object(a["c"])("editor",["clearAllData","setFileName","clearFileName","clearFileId","clearSaveTime"])),{},{callSaveFile:function(){if(console.log("callSaveFile"),this.fileName)this.saveFile();else{var t=prompt("File name: ","undefined");console.log(t),this.setFileName(t),this.saveFile()}},redo:function(){var t=this.undone.pop();this.newMutation=!1,this["".concat(t.type)](t.payload),this.newMutation=!0},undo:function(){var t=this;this.undone.push(this.done.pop()),this.newMutation=!1,this[this.EMPTY_STATE](),this.done.forEach((function(e){console.log("".concat(e.type.split("/")[1]),e.payload),t["".concat(e.type.split("/")[1])](e.payload),t.done.pop()})),this.newMutation=!0},windowresizeEvent:function(){this.props.clientHeight=this.$el.clientHeight,this.props.clientWidth=this.$el.clientWidth},clickEvent:function(t){this.linkStatus&&this.endLink(t)},dblclickEvent:function(t){this.addElement({type:"block",params:{event:t,parent:this.self}})},leftmousedownEvent:function(t){this.startPen(t)},leftmouseupEvent:function(t){this.endPen(t)},mousemoveEvent:function(t){t.preventDefault(),this.linkStatus?this.Link(t):this.canPen?this.pen(t):this.canDrag&&this.drag(t,this.dragData)},mouseleaveEvent:function(){},wheelEvent:function(t){this.zoom(t)},middleMouseDownEventL:function(t,e){this.startDrag(e)},middleMouseUpEventL:function(){this.endDrag()},middleMouseDownEvent:function(t,e){this.startLink(t,e)},middleMouseUpEvent:function(t,e){this.endLink(t,e)},middleDblClickEvent:function(t,e){this.initViewbox(),this.changeSelf(e)},middleMouseEnterEvent:function(t,e){if(this.linkStatus){var n=e.id!=this.arrowStartMiddle.id,i=t.target.classList.contains("block");n&&i&&(this.arrowEndMiddle=e)}},middleMouseLeaveEvent:function(){if(this.linkStatus){var t=event.target.classList.contains("block");t&&(this.arrowEndMiddle=null)}},backtoolclickEvent:function(){this.parent?(this.initViewbox(),this.gobackSelf()):console.log("no parent")},savetoolclickEvent:function(t){new ft(t,{styles:this.$store.state.user.blockStyles}).save()},initViewbox:function(){this.viewBox=[0,0,this.SVG_INITIAL_WIDTH,this.SVG_INITIAL_HEIGHT]},startLink:function(t,e){var n=t.target.classList.contains("block");n&&(this.arrowStartMiddle||(this.linkStatus=!0,this.arrowStartMiddle=e))},endLink:function(){this.linkStatus=!1,this.arrowEndMiddle?this.stopLink(this.arrowEndMiddle):this.cancelLink(),this.arrowStartMiddle=null,this.arrowEndMiddle=null},Link:function(t){t.preventDefault(),this.$store.state.editor.arrowObject?this.setArrowPosition({event:t,arrowEndMiddle:this.arrowEndMiddle}):this.addElement({type:"arrow",params:{event:t,arrowStartMiddle:this.arrowStartMiddle}})},startPen:function(t){var e=t.target.classList.contains("Svg");e&&(this.canPen=!0,this.props.viewBox.startPoint=[this.props.viewBox["min-x"]+t.offsetX,this.props.viewBox["min-y"]+t.offsetY])},endPen:function(){this.canPen=!1},pen:function(t){this.props.viewBox["min-x"]=this.props.viewBox.startPoint[0]-t.offsetX,this.props.viewBox["min-y"]=this.props.viewBox.startPoint[1]-t.offsetY,this.setCTM()},zoom:function(t){var e=this.props.viewBox.width+t.deltaY,n=this.props.viewBox.height+t.deltaY;this.props.viewBox.width=e>=0?e:0,this.props.viewBox.height=n>=0?n:0,this.setCTM()},startDrag:function(t){this.canDrag=!0,this.dragData=t},drag:function(t,e){if(this.canDrag){var n=this.$store.state.editor.ictm,i=t.offsetX-parseInt(e.props.styleObject.width)/n.a/2,o=t.offsetY-parseInt(e.props.styleObject.height)/n.a/2,s=n.a*i+n.c*o+n.e,r=n.b*i+n.d*o+n.f;this.setBlockPosition({dragData:e,position:{x:s,y:r}})}},endDrag:function(){this.canDrag=!1,this.dragData=null}}),beforeDestroy:function(){this.clearSVG()}},ht=pt,mt=(n("4684"),Object(A["a"])(ht,G,Y,!1,null,"71d94f72",null)),vt=mt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"default",on:{mouseenter:t.toggleMagnifierShow,mouseleave:t.toggleMagnifierShow}},[n("svg",{ref:"all",attrs:{id:"all",version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",width:t.props.clientWidth,height:t.props.clientHeight},on:{mousemove:t.mousemoveEvent}},[n("g",{ref:"g"},[n("TreeBlock",{attrs:{isBegin:!0,pkey:0,parentCoor:[],data:t.alldata,level:t.l}})],1)]),n("Magnifier",{directives:[{name:"show",rawName:"v-show",value:t.isMagnifierShow,expression:"isMagnifierShow"}],attrs:{mouse:t.mouse}})],1)},bt=[],wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",[t.isBegin?t._e():n("path",t._b({attrs:{d:t.arrowPath}},"path",t.pathDefault,!1)),n("rect",t._b({on:{click:t.rectClick,mouseenter:function(e){return e.target!==e.currentTarget?null:t.rectMouseenter(e)},mouseleave:function(e){return e.target!==e.currentTarget?null:t.rectMouseleave(e)}}},"rect",t.styleObject,!1)),t._l(t.filtChilds,(function(e,i){return n("TreeBlock",{key:i,attrs:{pkey:i,parentCoor:t.coor,data:e,level:t.l,startPoint:t.lastPoint}})}))],2)},yt=[],kt=(n("a630"),n("a9e3"),{name:"TreeBlock",props:{data:Object,level:Number,startPoint:{type:Array,default:function(){return[0,0]}},pkey:Number,parentCoor:Array,isBegin:{type:Boolean,default:!1}},created:function(){this.$store.commit("editor/addChildNum",{l:this.l,pkey:this.pkey,parentCoor:this.parentCoor}),this.index=this.$store.state.editor.NumOfChilds[this.l]},data:function(){return{beginBlock:!1,defaultSpace:10,index:null,ifFocus:!1,content:"",styleDefault:{width:"20",height:"6",stroke:"black",fill:"transparent","stroke-width":"1"},pathDefault:{stroke:"#000","stroke-width":"1"},textDefault:{fill:"black","text-anchor":"middle","dominant-baseline":"middle"}}},computed:{coor:function(){var t=Array.from(this.parentCoor);return t.push(this.pkey),t},l:function(){return this.level+1},filtChilds:function(){return this.data.childs.filter((function(t){return"block"==t.type}))},connectPoint:function(){return[this.startPoint[0]+this.defaultSpace,this.index*this.defaultSpace]},lastPoint:function(){var t=this.connectPoint[0]+parseInt(this.styleDefault.width),e=this.connectPoint[1]+parseFloat(this.styleDefault.height)/2;return[t,e]},styleObject:function(){return Object.assign(this.styleDefault,{fill:this.data.mainPage?"green":"transparent",x:"".concat(this.connectPoint[0]),y:"".concat(this.connectPoint[1])})},arrowPath:function(){if("0,0"!=this.startPoint){var t="".concat(this.startPoint[0],",").concat(this.startPoint[1]),e="".concat(this.connectPoint[0],",").concat(this.connectPoint[1]+parseFloat(this.styleDefault.height)/2);return"M".concat(t," L").concat(e)}return""}},methods:{rectClick:function(){console.log("send changeSelf"),this.$bus.$emit("changeSelf"),this.$store.commit("editor/changeSelf",this.data)},rectMouseenter:function(){this.$bus.$emit("TreeBlock:mouseenter",this.data)},rectMouseleave:function(){this.$bus.$emit("TreeBlock:mouseleave")}},destroyed:function(){this.$store.commit("editor/reduceChildNum",this.l)}}),xt=kt,Et=(n("9291"),Object(A["a"])(xt,wt,yt,!1,null,"6c412bbe",null)),Ot=Et.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"magnifier",style:t.positionObject},[n("svg",{ref:"svg",attrs:{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",width:t.props.clientWidth,height:t.props.clientHeight,viewBox:t.viewBox}},[n("g")]),n("v-icon",{staticClass:"mouse-icon",attrs:{name:"mouse-pointer"}})],1)},St=[],Mt={props:["mouse"],data:function(){return{props:{clientHeight:null,clientWidth:null}}},watch:{},computed:{viewBox:function(){return this.mouse.length?"".concat(this.mouse[0]-10," ").concat(this.mouse[1]-10," 20 20"):"0 0 10 10"},positionObject:function(){return{height:"80px",width:"80px",left:"".concat(this.mouse[0]+50,"px"),top:"".concat(this.mouse[1]+10,"px")}}},created:function(){var t=this;window.addEventListener("resize",(function(){t.windowresizeEvent()}))},mounted:function(){var t=this;this.mag=this.$refs.mag,this.$bus.$on("all:refs",(function(e){var n=t.$refs.svg.getElementsByTagName("g")[0];n.replaceWith(e)}))},methods:{windowresizeEvent:function(){this.props.clientHeight=this.$el.clientHeight,this.props.clientWidth=this.$el.clientWidth}},beforeDestroy:function(){this.$bus.$off("all:refs")}},jt=Mt,$t=(n("6814"),Object(A["a"])(jt,_t,St,!1,null,"543ab63f",null)),It=$t.exports,Pt={components:{TreeBlock:Ot,Magnifier:It},data:function(){return{l:0,isMagnifierShow:!1,mouse:[],props:{clientHeight:null,clientWidth:null,viewBox:{"min-x":0,"min-y":0,width:null,height:null,startPoint:[0,0]}}}},watch:{},computed:{filtChilds:function(){return this.alldata.childs.filter((function(t){return"block"==t.type}))},alldata:function(){return this.$store.state.editor.alldata}},created:function(){var t=this;window.addEventListener("resize",(function(){t.windowresizeEvent()}))},mounted:function(){},beforeUpdate:function(){},updated:function(){this.$bus.$emit("all:refs",this.$refs.g.cloneNode(!0))},methods:{windowresizeEvent:function(){this.props.clientHeight=this.$el.clientHeight,this.props.clientWidth=this.$el.clientWidth,this.props.viewBox.height=this.props.clientHeight,this.props.viewBox.width=this.props.clientWidth},mousemoveEvent:function(t){this.mouse=[t.offsetX,t.offsetY]},toggleMagnifierShow:function(){this.isMagnifierShow=!this.isMagnifierShow}}},Ct=Pt,Bt=(n("b3ac"),Object(A["a"])(Ct,gt,bt,!1,null,"704c38a9",null)),Tt=Bt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"default"},[n("svg",{staticClass:"Svg",attrs:{version:"2",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",viewBox:t.viewBox}},[n("g",t._l(t.childs,(function(t,e){return n("Middle",{key:e,attrs:{data:t}})})),1)])])},Lt=[],Dt={components:{Middle:ut},data:function(){return{data:{},props:{clientHeight:null,clientWidth:null,viewBox:{"min-x":0,"min-y":0,width:null,height:null,startPoint:[0,0]}}}},computed:{viewBox:function(){return"0 0 ".concat(this.initViewbox[0]," ").concat(this.initViewbox[1])},initViewbox:function(){return this.$store.state.editor.initViewbox},childs:function(){return this.data.childs}},created:function(){var t=this;window.addEventListener("resize",(function(){t.windowresizeEvent()})),this.$bus.$on("TreeBlock:mouseenter",(function(e){t.data=e})),this.$bus.$on("TreeBlock:mouseleave",(function(){}))},mounted:function(){this.windowresizeEvent()},methods:{windowresizeEvent:function(){this.props.clientHeight=this.$el.clientHeight,this.props.clientWidth=this.$el.clientWidth,this.props.viewBox.height=this.props.clientHeight,this.props.viewBox.width=this.props.clientWidth}}},Nt=Dt,At=(n("eee4"),Object(A["a"])(Nt,Ft,Lt,!1,null,"d33286da",null)),Ht=At.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-x"},t._l(t.styles,(function(t,e){return n("StyleBlock",{key:e,attrs:{layout_style:t}})})),1)},Ut=[],Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"default",class:[t.layout_style.name],domProps:{innerHTML:t._s(t.layout_style.content)},on:{click:t.changeStyle}})},Vt=[],Gt={props:["layout_style"],data:function(){return{}},created:function(){var t=this.layout_style.style,e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");e.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))},computed:{},methods:{changeStyle:function(){console.log(),this.$bus.$emit("Style:change",this.layout_style)}}},Yt=Gt,Rt=(n("db1d"),Object(A["a"])(Yt,Wt,Vt,!1,null,"726489fe",null)),Xt=Rt.exports,qt={components:{StyleBlock:Xt},created:function(){this.getBlockStyles()},data:function(){return{}},computed:Object(r["a"])({},Object(a["d"])("user",{styles:function(t){return t.styles}})),methods:Object(r["a"])({},Object(a["b"])("user",["getBlockStyles"]))},Jt=qt,Kt=(n("9ac1"),Object(A["a"])(Jt,zt,Ut,!1,null,"c6ba3f50",null)),Qt=Kt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"default"},[n("b-button-group",{attrs:{size:"sm"}},[n("b-button",{on:{click:t.backclickEvent}},[n("v-icon",{attrs:{name:"chevron-left"}})],1),n("b-button",{on:{click:t.saveclickEvent}},[n("v-icon",{attrs:{name:"save"}})],1),n("b-button",{on:{click:t.newclickEvent}},[n("v-icon",{attrs:{name:"file"}})],1),n("b-button",{on:{click:t.downloadclickEvent}},[n("v-icon",{attrs:{name:"download"}})],1)],1)],1)},te=[],ee={methods:{backclickEvent:function(){this.$bus.$emit("tool:back")},saveclickEvent:function(){this.$bus.$emit("tool:save")},newclickEvent:function(){this.$bus.$emit("global:new file")},downloadclickEvent:function(){this.$bus.$emit("tool:download")},undoclickEvent:function(){this.$bus.$emit("tool:undo")},redoclickEvent:function(){this.$bus.$emit("tool:redo")}}},ne=ee,ie=(n("08d0"),Object(A["a"])(ne,Zt,te,!1,null,"c85b4082",null)),oe=ie.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)},change:t.onEditorChange},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})},re=[],ae=(n("a753"),n("8096"),n("14e1"),n("953d")),le={components:{quillEditor:ae["quillEditor"]},data:function(){return{content:"",focusId:null,editorOption:{placeholder:"Select a element!",modules:{toolbar:["bold","italic","underline","strike"]}}}},created:function(){var t=this;this.$bus.$on("Block:focus",(function(e,n){t.content=e,t.focusId=n})),this.$bus.$on("Block:enter",(function(e,n){console.log("enter"),t.content=e,t.focusId=n,t.editor.focus()}))},methods:{onEditorBlur:function(){},onEditorFocus:function(){},onEditorReady:function(){},onEditorChange:function(t){var e=t.html;this.editorOption.placeholder="Type something...",this.$bus.$emit("TextEditor:change",e,this.focusId)}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},mounted:function(){}},ce=le,ue=Object(A["a"])(ce,se,re,!1,null,null,null),de=ue.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-list-group",t._l(t.files,(function(e,i){return n("b-list-group-item",{key:i,attrs:{href:"#",active:t.activeId==e.file_id},on:{click:function(n){return t.run(e)}}},[t._v(t._s(e.file_name))])})),1)},pe=[],he={name:"FileTree",created:function(){},data:function(){return{activeId:""}},computed:Object(r["a"])({},Object(a["d"])("user",{files:function(t){return t.userInfo.filesInfo}})),methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])("user",["getUserFile","saveFile"])),{},{run:function(t){console.log(t),this.activeId=t.file_id,this.saveFile(),this.getUserFile(t.file_id)}})},me=he,ve=Object(A["a"])(me,fe,pe,!1,null,null,null),ge=ve.exports,be={name:"EditFlow",components:{Main:vt,All:Tt,Preview:Ht,Style:Qt,Tool:oe,TextEditor:de,FileTree:ge},created:function(){this.data=this.$store.state.editor.alldata}},we=be,ye=(n("da92"),Object(A["a"])(we,W,V,!1,null,null,null)),ke=ye.exports,xe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ee=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("edit style modules")])])}],Oe={},_e=Object(A["a"])(Oe,xe,Ee,!1,null,null,null),Se=_e.exports;i["default"].use(U["a"]);var Me=[{path:"/",name:"Home",component:ke},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/Flow",name:"Flow",component:ke},{path:"/EditStyle",name:"EditStyle",component:Se}],je=new U["a"]({mode:"history",base:"/templates/dist/",routes:Me}),$e=je,Ie=1e3,Pe=1e3,Ce="emptyState",Be={SVG_INITIAL_HEIGHT:Ie,SVG_INITIAL_WIDTH:Pe,EMPTY_STATE:Ce},Te={data:function(){return Be}};i["default"].config.productionTip=!1,i["default"].mixin(Te),document.title="FlowPoint",document.cookie="cookie1=value1; SameSite=Lax",document.cookie="cookie2=value2; SameSite=None; Secure",new i["default"]({router:$e,store:$,render:function(t){return t(z)}}).$mount("#app")},"646d":function(t,e,n){},6814:function(t,e,n){"use strict";var i=n("48fe"),o=n.n(i);o.a},"7e06":function(t,e,n){},9291:function(t,e,n){"use strict";var i=n("7e06"),o=n.n(i);o.a},9489:function(t,e,n){},"9ac1":function(t,e,n){"use strict";var i=n("0c25"),o=n.n(i);o.a},"9bd8":function(t,e,n){},b0a0:function(t,e,n){"use strict";var i=n("452c"),o=n.n(i);o.a},b3ac:function(t,e,n){"use strict";var i=n("4275"),o=n.n(i);o.a},c51e:function(t,e,n){"use strict";var i=n("646d"),o=n.n(i);o.a},ced0:function(t,e,n){},da92:function(t,e,n){"use strict";var i=n("f9a6"),o=n.n(i);o.a},db1d:function(t,e,n){"use strict";var i=n("9bd8"),o=n.n(i);o.a},eee4:function(t,e,n){"use strict";var i=n("4137"),o=n.n(i);o.a},f9a6:function(t,e,n){}});
//# sourceMappingURL=app.f4bbf7ed.js.map